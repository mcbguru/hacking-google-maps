<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>

  <title>MCslp Maps Chapter 7, Ex 13</title>
  <script src="http://maps.google.com/maps?file=api&v=1&key=YOURKEY"
      type="text/javascript">
  </script>

  <script type="text/javascript">
  //<![CDATA[

  var map;
  var points = [];
  var route;

  function onLoad() {
    if (GBrowserIsCompatible()) {
    map = new GMap(document.getElementById("map"));

    GEvent.addListener(map, 'click', function(overlay,point) {
	var latLngStr = '(' + point.x + ', ' + point.y + ')<br/>';
	var message = document.getElementById("message");
	message.innerHTML = message.innerHTML + latLngStr;
	if (route) {
	    map.removeOverlay(route);
	}
	points.push(point);
	if (points.length > 1) {
	    route = new GPolyline(points);
	    map.addOverlay(route);
	}
    });

    map.centerAndZoom(new GPoint(-0.64,52.909444), 2);
    }
  }


  //]]>
  </script>
  </head>
  <body onload="onLoad()">

  <div id="map" style="width: 800px; height: 600px"></div>
  <div id="message"></div>
<ul>
</ul>
  </body>
</html>
